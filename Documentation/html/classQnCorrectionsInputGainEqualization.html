<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DT_Flow: QnCorrectionsInputGainEqualization Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DT_Flow
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">QnCorrectionsInputGainEqualization Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulates the gain equalization on input data correction step.  
 <a href="classQnCorrectionsInputGainEqualization.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GainEqualization_8h_source.html">GainEqualization.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates the gain equalization on input data correction step. </p>
<p>Gain equalization is applied on raw data from the involved detector. Two procedures are implemented: average gain equalization and width equalization.</p>
<p>The average gain equalization is applied for the signal <img class="formulaInl" alt="$ \mbox{M}_{c,i} $" src="form_17.png"/> of each detector channel <img class="formulaInl" alt="$ c $" src="form_18.png"/> measured for event <img class="formulaInl" alt="$ i $" src="form_19.png"/> according to: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{M}'_{c,i} = \frac{\mbox{M}_{c,i}}{\langle\mbox{M}_{c}\rangle} \]" src="form_20.png"/>
</p>
<p> where <img class="formulaInl" alt="$\langle\mbox{M}_{c}\rangle$" src="form_21.png"/> is an average over events in a given event class </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \langle\mbox{M}_{c}\rangle = \frac{1}{\mbox{N}_{ev}} \Sigma_{i}^{\mbox{N}_{ev}} \mbox{M}_{c,i} \]" src="form_22.png"/>
</p>
<p>The width equalization is applied for the signal <img class="formulaInl" alt="$ \mbox{M}_{c,i} $" src="form_17.png"/> of each detector channel <img class="formulaInl" alt="$ c $" src="form_18.png"/> measured for event <img class="formulaInl" alt="$ i $" src="form_19.png"/> according to: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mbox{M}'_{c,i} = \mbox{A} + \mbox{B} \frac{\mbox{M}_{c,i} - \langle\mbox{M}_{c}\rangle} {\sigma_{{M}_{c}}} \]" src="form_23.png"/>
</p>
<p> with A and B are parameters that are the same for all channels and <img class="formulaInl" alt="$\sigma_{{M}_{c}}$" src="form_24.png"/> is the standard deviation of the signals of the channel <img class="formulaInl" alt="$c$" src="form_25.png"/> for the considered event class </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \sigma_{{M}_{c}} = \sqrt{ \frac{1}{\mbox{N}_{ev}} \Sigma_{i}^{\mbox{N}_{ev}} \mbox{M}^2_{c,i} - \frac{1}{\mbox{N}^2_{ev}} \left(\Sigma_{i}^{\mbox{N}_{ev}} \mbox{M}_{c,i}\right)^2} \]" src="form_26.png"/>
</p>
<p> At the class level A is known as the shift and B is known as the scale. The class also provides support for group equalization where a group weight can be extracted from the channels that conform a group or could be passed as hard coded group weights at detector configuration definition.</p>
<p>The gain equalization is only applied if the class instance is in the correction status. In order to be in that status the instance should have been able to get the proper calibration histograms that will provide the required averages per event class and channel. If the class instance is not in the correction status then, it is in the calibration one, collecting data for producing, once merged in a further phase, the calibration histograms. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>DT_Flow/QnCorrections/include/<a class="el" href="GainEqualization_8h_source.html">GainEqualization.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
